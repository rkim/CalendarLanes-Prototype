<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<style>
	/* common styles */
	*{
		box-sizing:border-box;
		-moz-box-sizing:border-box;
		-webkit-box-sizing:border-box;
	}
	body {
		font-family:verdana;
		font-size:11px;
		
	}
	table, table tr td, table tr th{
		padding:0;
		border-collapse:collapse;
	}
	p.title
	{
		font-size:14px;
		font-weight:bold;
		color:#888888;
	}

	::-webkit-scrollbar {
		height: 0em;
	}

	/* calendar sections */
	#base-lane-column, #group-lane-column {
		vertical-align:top;
		width:100px;
		align:left;
	}

	/* these values would be dynamically generated
	   based on number of time lanes or something */
	#base-calendar-grid .calendar-data {
		width:2450px;
	}
	#group-calendar-grid .calendar-data {
		width:2400px;
	}

	/* calendar styles */
	.calendar {
		overflow:hidden;
		border:1px solid black;
		border-bottom:0px;
		position:relative;
		min-width:400px;
		max-width:1600px;
	}
	.scroller {
		max-width:500px;
		cursor:move;

		/*
		overflow:hidden;
		overflow-x:auto; */
    -webkit-overflow-scrolling:touch;
	}

	.grouping {
		text-align:center;
		font-weight:bold;
		width:100%;
		border-bottom:1px solid black;
		background-color:#eeeeee;
		height:20px;

		-webkit-user-select:none;
		-moz-user-select:none;
		-ms-user-select:none;
	}
	.time, .time-lane{
		text-align:center;
		border-left:1px dashed black;
		border-bottom:1px solid black;
		height:17px;
		width:100px;
		min-width:100px;
		display:table-cell;

		-webkit-user-select:none;
		-moz-user-select:none;
		-ms-user-select:none;
	}
	.time-lane{
		border-right:1px solid black;
		border-left:0px;
	}
	.lane {
		height:50px;
		width:100px;
		font-weight:bold;
		color:#666666;
		border-bottom:1px solid black;
		border-right:1px solid black;
		display:table-row;

		-webkit-user-select:none;
		-moz-user-select:none;
		-ms-user-select:none;
	}
	.event {
		padding:0px;
		height:50px;
		border-left:1px dashed #dddddd;
		border-bottom:1px dashed #888888;
		display:table-cell;
	}
	.event:hover {
		background-color:#eeeeee;
	}
	




	.day-boundary {
		width:150px;
		min-width:150px; 
		border-left:1px solid black;
		border-right:1px solid black;
		border-bottom:0px;
		background-color:#eeeeff;
	}
	.day-boundary:hover {
		background-color:#eeeeff;
	}
	.day-start {
		border-left:0px;
	}





	/* formatting */
	.valign-mid {
		vertical-align:middle;
		display:table-cell;
	}
	.pad10
	{
		padding-left:10px;
	}
	.last {
		border-right:0px;
	}
	.bottom {
		border-bottom:1px solid black;
	}
	.table {
		display:table;
		border-collapse:collapse;
		width:100%;
	}
	.row {
		display:table-row;
	}
	.cell {
		display:table-cell;
	}
	</style>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script type="text/javascript" src="./scripts/jquery-1.10.0.min.js"></script>
		<script type="text/javascript" src="./scripts/jquery.kinetic.js"></script>
		<script type="text/javascript" src="./scripts/infinite.calendar.js"></script>
	</head>

	<script type="text/javascript">

		function xscroll() {
			var isSafari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;
			var isChrome = !!window.chrome;  

				if ($('#xscroll').prop('checked')) {
					$('.scroller').css({"overflow-x":"auto", "overflow-y":"hidden"});
				}
				else {
					$('.scroller').css({"overflow-x":"hidden"});
					$('.calendar').css({"border-bottom":"0px"});
				}
		};

		$(document).ready(function() {
			// -----------------------------
			// Initialize demo controls
			//
			$('#xscroll').click(function() {
				xscroll();
			});
			xscroll();
			
			// -----------------------------
			// Attach kinetic scrolling
			var tableWidth = 0;
			var viewWidth = 0;
			tableWidth = $('#base-calendar-grid').width();
			viewWidth = $('#base-event-scroller').width();
			$('#base-event-scroller').scrollLeft(tableWidth/2 - viewWidth/2);
			$('#base-event-scroller').kinetic({
				y:false,
				maxvelocity: 55,
				triggerHardware:true
			});
			
			tableWidth = $('#group-calendar-grid').width();
			viewWidth = $('#group-event-scroller').width();
			$('#group-event-scroller').scrollLeft(tableWidth/2 - viewWidth/2);
			$('#group-event-scroller').kinetic({
				y:false,
				maxvelocity: 55,
				triggerHardware:true
			});

			// -----------------------------
			// Attach circular scrolling
			$('#base-event-scroller').infiniteScrollable();
			$('#group-event-scroller').infiniteScrollable();

		});	// $(document).ready(...)


	</script>
	
	
	<body>
		<p class="title">notes</p>
		<p style="padding-left:15px;">Not yet implemented:
			<ul>
				<li>Scrolling momentum and deceleration.</li>
				<li>Continuous scrolling functionality.<lie>
				<li>Triggers and handlers on day boundaries.</li>
				<li>Firefox support.</li>
				<li>EventOccurrence overlays.</li>
				<li>Sane CSS heirarchy.</li>
			</ul>
		</p>
		<p style="padding-left:15px">
			Two-finger scrolling won't work unless scrollbars are enabled <br/>
			(scrollbars are styled to be hidden in gecko and webkit browsers,<br/>
			but will show in IE).</p>
		<div style="padding-left:15px;">
			<input id="xscroll" type="checkbox" name="xscroll" checked>enable scrollbars</input><br/>
		</div>

		<div style="height:40px;"></div>

		
		<!------------------------------------------------------------------
		- base layout - using divs
		-------------------------------------------------------------------->
		<p class="title">base layout</p>
		<p style="padding-left:15px;">The proposed default display mode.<br/><br/>
			Also contains a mockup of a continuous scroll calendar<br/>
			(probably implemented as a circular array of time columns).</p>
		<div id="base-calendar-container" class="calendar">
			<div class="table">
				<div class="row">
				
					<!-- lane column - start -->
					<div id="base-lane-column" class="cell">
						<div class="table">
							<div class="time-lane"></div>
							<div class="lane"><div class="valign-mid pad10">Staff 1</div></div>
							<div class="lane"><div class="valign-mid pad10">Staff 2</div></div>
							<div class="lane"><div class="valign-mid pad10">Staff 3</div></div>
							<div class="lane"><div class="valign-mid pad10">Staff 4</div></div>
						</div>
					</div>
					<!-- lane column - end -->

					<!-- scrollable column - start -->
					<div id="base-event-scroller" class="cell scroller">
						<div id="base-calendar-grid" class="table calendar-data">

							<div class="row">
								<div class="time day-start">...</div><div class="time">7:00am</div><div class="time">8:00am</div>
								<div class="time">9:00am</div><div class="time">10:00am</div><div class="time">11:00am</div>
								<div class="time">12:00pm</div><div class="time">1:00pm</div><div class="time">2:00pm</div>
								<div class="time">3:00pm</div><div class="time">4:00pm</div><div class="time">5:00pm</div>
								<div class="time">6:00pm</div><div class="time">7:00pm</div><div class="time">8:00pm</div>
								
								<div class="time day-boundary" style="border-bottom:1px solid black;">28-May</div>
								
								<div class="time day-start">6:00am</div><div class="time">7:00am</div><div class="time">8:00am</div>
								<div class="time">9:00am</div><div class="time">10:00am</div><div class="time">11:00am</div>
								<div class="time">12:00pm</div><div class="time">1:00pm</div><div class="time">...</div>
							</div>
							
							<div class="row">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								
								<div class="event day-boundary"></div>
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
							<div class="row">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>

								<div class="event day-boundary"></div>
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
							<div class="row">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>

								<div class="event day-boundary"></div>
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
							<div class="row bottom">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>

								<div class="event day-boundary"></div>
								<div class="event day-start"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
						</div>
					</div>
					<!-- scrollable column - end -->
					
				</div><!-- div class="row" -->
			</div><!-- div class="table" -->
		</div>
		<div style="height:40px;"></div>
		

		<!------------------------------------------------------------------
		- grouping layout - using divs
		-------------------------------------------------------------------->
		<p class="title">grouping layout using divs</p>
		<p style="padding-left:15px;">Depending on analysis of the events to be displayed (event overlap,<br/>
		 legibility, etc. via heuristics yet to be created), lanes may be<br/>
		 automatically be grouped by location (or possibly service or staff).<br/><br/>
		 
		 Srolling to the day boundary here would trigger an ajax call to the<br/>
		 controller for additional event data, and would result in a refresh<br/>
		 of the event grid.<br/><br/>

		 Also, I'm skeptical the classes/location breakout below would ever be<br/>
		 useful, but it's something we could feasibly do without much trouble.</p>
		<div id="group-calendar-container" class="calendar">
			<!-- group labels -->
			<div class="grouping table" style="position:absolute; text-align:center;">
				<div class="valign-mid">Los Angeles</div>
			</div>
			<div class="grouping table" style="position:absolute; top:138px;">
				<div class="valign-mid">Seattle</div>
			</div>

			<div class="table">
				<div class="row">
					<!-- lane column - start -->
					<div id="group-lane-column" class="cell">
						<div class="table">
							<div class="grouping row"></div>
							<div class="time-lane"></div>
							<div class="lane"><div class="valign-mid pad10">Class A</div></div>
							<div class="lane"><div class="valign-mid pad10">Class B</div></div>
							
							<div class="grouping row"></div>
							<div class="time-lane"></div>
							<div class="lane "><div class="valign-mid pad10">Class B</div></div>
							<div class="lane"><div class="valign-mid pad10">Class C</div></div>
							<div class="lane"><div class="valign-mid pad10">Class D</div></div>
						</div>
					</div>
					<!-- lane column - end -->

					<!-- scrollable column - start -->
					<div id="group-event-scroller" class="cell scroller">
						<div id="group-calendar-grid" class="table calendar-data">
							<!-- grouping -->
							<div class="grouping row"></div>
							<div class="row">
								<div class="time day-start">12:00am</div><div class="time">1:00am</div><div class="time">2:00am</div><div class="time">3:00am</div>
								<div class="time">4:00am</div><div class="time">5:00am</div><div class="time">6:00am</div><div class="time">7:00am</div>
								<div class="time">8:00am</div><div class="time">9:00am</div><div class="time">10:00am</div><div class="time">11:00am</div>
								<div class="time">12:00pm</div><div class="time">1:00pm</div><div class="time">2:00pm</div><div class="time">3:00pm</div>
								<div class="time">4:00pm</div><div class="time">5:00pm</div><div class="time">6:00pm</div><div class="time">7:00pm</div>
								<div class="time">8:00pm</div><div class="time">9:00pm</div><div class="time">10:00pm</div><div class="time">11:00pm</div>
							</div>
							<div class="row">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
							<div class="row bottom">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
							
							<!-- grouping -->
							<div class="grouping row"></div>
							<div class="row">
								<div class="time day-start">12:00am</div><div class="time">1:00am</div><div class="time">2:00am</div><div class="time">3:00am</div>
								<div class="time">4:00am</div><div class="time">5:00am</div><div class="time">6:00am</div><div class="time">7:00am</div>
								<div class="time">8:00am</div><div class="time">9:00am</div><div class="time">10:00am</div><div class="time">11:00am</div>
								<div class="time">12:00pm</div><div class="time">1:00pm</div><div class="time">2:00pm</div><div class="time">3:00pm</div>
								<div class="time">4:00pm</div><div class="time">5:00pm</div><div class="time">6:00pm</div><div class="time">7:00pm</div>
								<div class="time">8:00pm</div><div class="time">9:00pm</div><div class="time">10:00pm</div><div class="time">11:00pm</div>
							</div>
							<div class="row">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
							<div class="row">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
							<div class="row bottom">
								<div class="event day-start"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
								<div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div><div class="event"></div>
							</div>
						</div>
					</div>
					<!-- scrollable column - end -->
					
				</div><!-- div class="row" -->
			</div><!-- div class="table" -->
		</div>
		<div style="height:80px;"></div>


	</body>
</html>